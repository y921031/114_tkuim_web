db.participants.createIndex({ email: 1 }, { unique: true })
exit
db.participants.getIndexes()
db.participants.createIndex({ email: 1 }, { unique: true })
// 注意：這個指令會刪除所有帶有 @example.com 的測試資料！這是為了確保索引能成功建立。
db.participants.deleteMany({ email: { $regex: "@example.com" } }) 
// 為了確保萬無一失，再次執行一次萬能清理（以防您在其他測試中建立了新重複）
db.participants.deleteMany({ email: "valid_id_check@example.com" })
// 清理所有 Email 為 "valid_id_check@example.com" 的資料
db.participants.createIndex({ email: 1 }, { unique: true })
db.participants.deleteMany({ email: "rest@example.com" })
// 1. 清理所有 Email 為 "rest@example.com" 的資料
db.participants.getIndexes()
db.participants.createIndex({ email: 1 }, { unique: true })
db.participants.deleteMany({ email: { $regex: "{{$randomInt}}" } })
db.participants.deleteMany({ email: { $regex: "manual-id" } })
// 3. 清理包含 "manual-id" 或 "{{$randomInt}}" 的所有資料 (針對最新錯誤)
db.participants.deleteMany({ email: { $regex: "final_test" } })
// 2. 清理包含 "final_test" 的所有資料
db.participants.deleteMany({ email: { $regex: "duplicate-test" } })
// 1. 清理包含 "duplicate-test" 的所有資料
db.participants.createIndex({ email: 1 }, { unique: true })
db.participants.deleteMany({ email: "duplicate-test@example.com" })
db.participants.createIndex({ email: 1 }, { unique: true })
db.participants.deleteMany({ email: "duplicate-test@example.com" })
// 嘗試再次清理 "duplicate-test@example.com"（以防萬一）
db.participants.deleteMany({ email: "final_test_12345@example.com" })
// 清空所有 email 為 "final_test_12345@example.com" 的資料
db.participants.deleteMany({ email: "duplicate-test@example.com" })
// 嘗試再次清理 "duplicate-test@example.com"（以防萬一）
db.participants.deleteMany({ email: "final_test_12345@example.com" })
// 清空所有 email 為 "final_test_12345@example.com" 的資料
db.participants.deleteMany({ email: "duplicate-test@example.com" })
// 嘗試再次清理 "duplicate-test@example.com"（以防萬一）
db.participants.deleteMany({ email: "final_test_12345@example.com" })
// 清空所有 email 為 "final_test_12345@example.com" 的資料
db.participants.createIndex({ email: 1 }, { unique: true })
// 建立索引
db.participants.deleteMany({ email: "duplicate-test@example.com" }) 
// 再次清理所有名為 "duplicate-test@example.com" 的資料
db.participants.getIndexes()
use week11
exit
db.participants.createIndex({ email: 1 }, { unique: true })
db.participants.deleteMany({ email: "duplicate-test@example.com" })
use week11
db.participants.find()
use week11
db.participants.find()
use week11
db.participants.find()